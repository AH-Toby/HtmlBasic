<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">
        hello word!
        <div class="one"></div>
        <!-- 注释 -->
    </div>
<script>
    // 获取元素
    var app = document.getElementById("app");
    // 获取节点
    var arr = getNodes(app);

    // 遍历节点，打印类型，名称，和值
    for (var i = 0; i < arr.length; i ++){
        console.log("节点类型", arr[i].nodeType);
        console.log("节点名称", arr[i].nodeName);
        console.log("节点值", arr[i].nodeValue);
        console.log("-----------------------------")
    }
    
    function getNodes(dom) {
        // 返回包含所有节点的数组
        var arr = [];
        // 定义一个正则来判断换行符
        var reg = /^\s*$/

        // 遍历所有系欸按，过滤换行符节点
        for (var i = 0; i < dom.childNodes.length; i++) {
            nodeObj = dom.childNodes[i]

            // 如果是文本节点，要过滤换行符
            if (nodeObj.nodeType === 3) {

                if (!reg.test(nodeObj.data)) {
                    arr.push(nodeObj);
                }
            } else {
                // 其他类型节点
                arr.push(nodeObj);
            }
        }
        return arr;
    }
</script>
</body>
</html>