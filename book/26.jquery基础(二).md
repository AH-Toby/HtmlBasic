# jQuery基础(二)

## 一、节点操作

**$(this):** 在事件回调函数中，获取当前元素对应的jq对象。

**parent():** 获取父节点(只能选中元素的父亲节点，不能选中爷爷或者曾爷爷)

**children():** 子节点。小括号中可以书写参数，表示指定的某个儿子。

**siblings():** 亲兄弟。只能选中同一个父节点的亲兄弟。

**其他节点方法：**

**next():** 选中下一个兄弟节点

**nextAll():** 会选中后面所有的兄弟节点

**prev():** 选中上一个兄弟节点

**prevAll():** 会选中前面所有的兄弟节点

**parents():** 会选中祖先节点

**find():** 会选中后代节点

**end():** 法可以中断查找返回上一个jq对象 

**连续打点:** 节点操作可以连续打点调用

## 二、序号问题

**eq():**  表示选中元素大队列的排名，与亲兄弟没有直接关系。选中元素的不同，序号也是不同的。

**index():** 表示选中元素 **亲兄弟** 排名，只要是同一个父节点都是亲兄弟。它的值非常稳定，无视选择器的选择，**返回值为索引值。**

**each():** 用于遍历、循环所有匹配到的每一个元素，接收一个参数是函数，函数中也有this，表示遍历到的该对象。

> 注意：
>
> 方法会遍历每一个所匹配到的元素，以后只要看到每一个元素要做的事情，首先要想到each方法
>
> 方法中的函数里面有一个参数i，表示遍历到该对象的序号

## 三、animate动画

animate函数接收两个参数：

**参数一：css样式对象**

能过参与动画的属性：所有数值型的属性都可以参与动画。

**参数二：time(完成动画的事件)单位ms**

animate函数基于终点的动画

**执行顺序：**

同一个元素的不同animate，会按照顺序执行

不同元素的animate，会同时执行

css和animate：animate需要花费时间（动态），css会瞬间完成（静态）。

## 四、回调函数

**异步语句:** 类似于animate这种需要花费时间的语句，如果后面还有其它的js语句，这些语句不会等着animate执行完毕之后再去执行，而是会立即执行。

**回调函数:** 异步语句一般都有一个回调函数，当异步语句执行之后要做的事情就是写在回调函数中

比如：animate()、show(100)、hide(100)、slideDown()、fadeIn()、fadeOut()

例如：我们做菜，第一步把肉从冰箱中取出，将肉放入微波炉中解冻，解冻需要花费5min,在这期间我们还能烧水、洗菜、摘菜，等到微波炉叮一声之后（叮一声之后要做的事情就写在回调函数中），将肉取出，开始做肉菜，做肉菜的行为就是写在回调函数中

实际上animate函数可以接收三个参数：

```js
animate(json, time, callBack)
// json:样式对象
// time:完成动画的时间
// callBack:回调函数
```

## 五、延迟与终止

**delay:** 表示延迟，只能够书写在动画之前，参数就是要延迟的时间

**动画方法如:** animate()、show(100)、hide(100)、slideDown()、fadeIn()、fadeOut()

我们可以利用delay控制元素的入场顺序

**stop:** 该方法用于让运动的元素立即停止动画，接收两个参数，都是布尔值，默认值是false

**第一个参数:** 表示是否清空当前动画队列

**第二个参数:** 表示是否立即完成当前动画

**stop(false, false):** 等价于stop()立即进入下一个动画，立即停止当前执行动画

**stop(false,true):** 立即完成并停止当前动画，进入下一个动画，

**stop(true,true):** 清空当前动画队列，立即停止并完成当前动画

**stop(true,false):** 等价于stop(true)清空当前动画队列，立即停止动画

### 5.1.动画累积

一个元素身上可能存在多个动画，尤其在不经意间造成动画积累，此时，就要进行防止

比如：现在又一致队伍，接收到命令去广州，在中途又接到命令回北京

此时，该队伍又两个策略：

第一个策略：放弃原有任务，立即执行新的任务，直接利用stop(true)来实现

第二个策略：只有当元素不运动的时候，才接受新的任务。利用is()表示元素是否具备某种状态，is("animated")表示正在执行动画

