# DOM进阶(二)

## 一、更改this指向

call与apply这两个方法都是函数天生可以调用的方法，它们的作用是执行函数并改变函数的上下文对象(this)

正常情况下：谁调用函数，函数的this指向谁

**call：**

该方法用于执行函数并改变函数的作用域。

该方法接收多个参数

第一个参数：要改变的this的指向

从第二个参数开始都是原函数所需要的参数

**apply：**

该方法也是执行函数并改变函数的作用域，它与call方法之间的区别是参数的区别。

该方法接收两个参数

第一个参数：要改变的this的指向

第二个参数：数组，数组中每一项都是传递的参数

## 二、DOM事件

### 1.事件流程

整个事件流程分为捕获和冒泡：

**捕获：**

事件从最顶层元素开始执行，一层一层往下执行，直到最精确的元素

**冒泡：** 

事件从最精确的元素开始执行，一层一层往上执行，直到最顶层的元素

当一个元素是触发事件的元素的时候，是不区分捕获和冒泡的

> 注意：
>
> 之前学习的事件绑定，属于DOM0级事件绑定。
>
> DOM0级事件绑定中，是在事件冒泡阶段执行的。

完整流程：事件捕获到元素，触发事件，事件冒泡到最顶层元素。

### 2.DOM2级事件绑定方式

**事件名称：** addEventListener

每一个元素都可以使用的方法(像window等对象也可以使用)

**使用方式：** 

```js
dom.addEventListener(type,fn,bool)
```

**type：** 事件的类型

> 注意：
>
> 不带on的事件类型。例如：click、mousedown、mouseup

**fn：** 执行函数

**bool：** 它是一个布尔值，表示是否在捕获阶段绑定

默认值时false，表示绑定到冒泡阶段，如果时true表示绑定到捕获阶段

> 注意：
>
> 为了让各级别的事件绑定执行顺序同一，我们常常将事件绑定到冒泡阶段

### 3.IE中的高级绑定方式

IE中是不支持addEventListener方法，支持自己的attachEvent绑定事件方式

**使用方式：**

```js
dom.attachEvent(type,fn)
```

**type：** 事件的类型

> 注意：
>
> 不带on的事件类型。例如：click、mousedown、mouseup

**fn：** 执行函数

没有第三个参数，也就是说不支持捕获

 