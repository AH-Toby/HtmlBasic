# CSS基础知识（五）

## 一.背景

### 1.背景属性

**background-color:** 背景色，属性值表示颜色

在标准盒模型中，背景色会应用给整个内容区域(会应用到边框上):width+padding\*2+border\*2

**background-image:** 背景图片，属性值url地址

设置的图片是从padding(包括)开始渲染的,并且从border开始平铺渲染

> 对于一个盒子设置背景色和背景图片
>
> 背景色从border开始渲染
>
> 背景图片从padding开始渲染

**background-repeat:** 设置背景平铺，注意：X特指水平方向，Y特指垂直方向

no-repeat:不重复平铺，repeat:重复平铺(默认值)，repeat-x:水平平铺，repeat-y:垂直平铺

[背景属性示例](../code/7.CSS基础(五)/1.背景属性.html)

### 2.背景定位

**background-position:** 用于背景定位，属性值分别表示：x方向坐标 y方向坐标

是从padding开始(border以内)进行定位的(注：css中坐标轴是倒置的坐标轴)，有三种使用方式

1. 数值法：如：向右平移100像素，向下平移100像素
2. 特殊变量法：水平方向left right center， 垂直方向top bottom center,工作中，常用的是top center
3. 百分比数值：（盒子的宽度|高度+盒子padding*2-背景图片的宽度|高度）\*百分比
4. 单独设置：background-position-x设值水平方向，background-position-y设值垂直方向

**background-attachment:** 用于固定背景

scroll：滚动页面位置保持不变，相对窗口位置变化(默认值)

fixed：滚动页面位置变化，相对窗口位置不变化(默认值)

[背景定位示例](../code/7.CSS基础(五)/2.背景定位.html)

### 3.背景复合属性

**background:** 是一个复合属性，可以设置背景色，背景图片，背景位置，背景图片平铺

再css3中还可以设置背景图片尺寸，背景图片起始位置，背景图片的截取，背景图片的定位等等

设置顺序：

```css3
background:背景色,背景图片，背景平铺，背景定位，背景固定
```

[背景复合属性案例](../code/7.CSS基础(五)/3.背景复合属性.html)

应用：

制作渐变背景：设置一个渐变单元，然后水平平铺设置渐变背景

注意：liner-gradient属性可以设置渐变，但是这是css3属性，低版本浏览器不支持，我们可以背景平铺来解决

[渐变背景案例](../code/7.CSS基础(五)/5.渐变背景.html)

背景居中,设置banner图片

[背景居中案例](../code/7.CSS基础(五)/6.背景设置banner.html)

伪元素设置背景：使用行内元素设置背景，改变原有的dom结构，因为我们新增了行内元素span，为了避免插入新元素，我们可以使用伪元素，步骤：1.设置伪元素，2:设置content属性，让伪元素显示，3:设置padding撑起宽高，4:修改字号，5:居中对齐 设置vertical-aline:middle，6:调整外边距

[伪元素设置背景案例](../code/7.CSS基础(五)/7.伪元素设置背景.html)

### 4.背景与SEO

搜索引擎认识语义化标签，所以为了提高网站权重，我们通常将重要的信息写在h1中，有时候这些重要的信息是图片。

那么我们将图片写在h1中搜索引擎不认识，将图片直接写在h1中，是一种错误的方式，因为搜索引擎不会解析图片中的文字，只会识别h1标签内的文字。

通常我们在h1中书写文字，然后用背景来显示这张图片，但是里面还有文字怎么办？

只需要让文字溢出容器即可：

第一种通过text-indent让文字溢出

第二种是通过line-height让文字从盒子中出去，通过overflow:hidden溢出隐藏

[伪元素设置背景案例](../code/7.CSS基础(五)/8.背景与SEO.html)

## 2.精灵图

### 1.精灵图技术

css sprites:网页上有很多小的碎图片，不管图片的大小，一张图片就会发起一次http请求。很多碎图片就会发起很多http请求。降低网页的加载速度。我们将这些碎图片整合再一张图片上，只会发起一次http请求。提高网页的加载速度。这就是精灵图技术。

应用：

①通过盒子的宽高限制精灵图

②通过background-position得到具体的精灵图小照片

精灵图制作：

①所有的小碎片必须是png

②精灵图大小不要太大，能保证所有的小碎片可以盛放

③小精灵图摆放：从上到下

### 2.精灵图分类

水平精灵图：所有图片打包在一行

1. 容器的宽度是受约束的，宽度不能超过后一张图片的起始位置和前一张图片的终止位置
2. 宽度高度是自由的，高度任意，因为后面没有其他图片了，图片可以在垂直方向平铺，实现渐变的效果
3. 调整精灵图的位置就是调整背景图片的横坐标位置

垂直精灵图：所有图片打包在一列

1. 容器的高度受限制：后一张图片的起始位置-前一张的结束位置
2. 修改图片位置，就是修改垂直方向的位置
3. 可以在水平方向进行平铺

定点精灵图：图片位置随意放置，使用时找准位置即可

1. 宽度和高度都是受限制的，受到周围图片的限制，常将容器的宽高设置成icon图片的宽高
2. 不论是水平还是垂直方向，通常都不能平铺

### 3.精灵图优化

工作中有三类精灵图，如何使用看需求：

宽度固定，高度不固定 ==>水平精灵图

宽度不固定，高度固定 ==>垂直精灵图

宽度固定，高度固定 ==>定点精灵图

水平精灵图的优势，不用考虑纵坐标，通常始终是0

垂直精灵图的优势，不用考虑横坐标，通常始终是0

使用时一定注意，图片的起始位置，以及图片的终止位置，来确定容器的宽高，否则会溢出，制作的时候，通常相同颜色的图片放在一起，颜色不同的划分区域，这样来优化图片的大小

图片向右移动，x加偏移量，左减小

图片向下移动，y加偏移量，上减小

[精灵图示例](../code/7.CSS基础(五)/9.精灵图.html)

